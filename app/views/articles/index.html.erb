<header>
  <%= render 'layouts/header' %>
</header>
<br>
<br>
<br>

<h1>Listing Articles</h1>
 
<%= link_to 'New article', new_article_path %>

<%= form_with(url: articles_path, method: "get", local: true) do |form| %>
  <p>
    <%= form.label :search %>
    <br>
    <%= form.text_field :search, :value => @search %>
    <%= form.submit "search", :name => "" %>
  </p> 
<% end %>


<table class="table table-striped table-hover">
  <tr>
    <th>Title</th> 
    <th>Author</th>
    <th colspan="2"></th>
  </tr>
  <% @articles.each do |article| %>
    <tr>
      <td><%= link_to article.title, article_path(article) %></td>
      <td><%= link_to article.user.name, user_path(article.user) %></td>
      <td><% if current_user?(article.user) %><%= link_to 'Edit', edit_article_path(article) %> <% end %></td>
      <td><% if current_user?(article.user) %><%= link_to 'Destroy', article_path(article),
                method: :delete,
                data: { confirm: 'Are you sure?' } %> <% end %></td>
     
    </tr>
  <% end %>
</table>
